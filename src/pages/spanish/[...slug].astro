---
import Layout from '../../layouts/Layout.astro';
import Article from '../../components/Article.astro';
import { getCollection } from 'astro:content';

export const prerender = true;

export async function getStaticPaths() {
	const spanish = await getCollection('spanish');

	return spanish
		.filter(spanish => spanish.data.date_achieved)
		.map(spanish => (
			{ params: { slug: spanish.slug }, props: { spanish }, }
		)
	);
}

const { spanish } = Astro.props;
const { Content, headings } = await spanish.render();

spanish.data.title = `${spanish.data.hours} Hours`;
spanish.data.created_at = spanish.data.date_achieved ?? spanish.data.created_at;
---

<Layout title={`${spanish.data.hours} Hours | Henry Percy`} description={spanish.data.description ?? ''}>
	<Article article={{ ...spanish.data, slug: spanish.slug }} Content={Content} headings={headings} />
</Layout>
